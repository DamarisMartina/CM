/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 13.5 		*/
/*  Created On : 07-may.-2023 17:35:38 				*/
/*  DBMS       : MySql 						*/
/* ---------------------------------------------------- */

SET FOREIGN_KEY_CHECKS=0 
;

/* Drop Tables */

DROP TABLE IF EXISTS `PACIENTE` CASCADE
;

DROP TABLE IF EXISTS `PERSONAL` CASCADE
;

DROP TABLE IF EXISTS `SERVICIOS_HOSPITAL` CASCADE
;

/* Create Tables */

CREATE TABLE `PACIENTE`
(
	`COD_PACIENTE` INT NOT NULL,
	`NOMBRE_PACIENTE` CHAR(35) NULL,
	`AP_PACIENTE` CHAR(35) NULL,
	`AM_PACIENTE` CHAR(35) NULL,
	`FNACIMIENTO_PACIENTE` VARCHAR(20) NULL,
	`DIR_PACIENTE` VARCHAR(50) NULL,
	`CEL_PACIENTE` VARCHAR(15) NULL,
	`GÉNERO_PACIENTE` CHAR(1) NULL,
	CONSTRAINT `PK_PACIENTE` PRIMARY KEY (`COD_PACIENTE` ASC)
)

;

CREATE TABLE `PERSONAL`
(
	`COD_PERSONAL` INT NOT NULL,
	`NOMBRE_PERSONAL` CHAR(30) NULL,
	`AP_PERSONAL` CHAR(30) NULL,
	`AM_PERSONAL` CHAR(30) NULL,
	`CEL_PERSONAL` VARCHAR(35) NULL,
	`DIR_PERSONAL` VARCHAR(35) NULL,
	`FNACIMIENTO_PERSONAL` VARCHAR(30) NULL,
	`GÉNERO_PERSONA` CHAR(30) NULL,
	`TIPO_PERSONAL` VARCHAR(50) NULL,
	`COD_SERVICIO` INT NULL,
	CONSTRAINT `PK_PERSONAL` PRIMARY KEY (`COD_PERSONAL` ASC)
)

;

CREATE TABLE `SERVICIOS_HOSPITAL`
(
	`COD_SERVICIO` INT NOT NULL,
	`NOMBRE_SERVICIO` CHAR(30) NULL,
	`COD_PERSONAL` INT NULL,
	`ESTADO_SERVICIO` VARCHAR(30) NULL,
	CONSTRAINT `PK_SERVICIOS_HOSPITAL` PRIMARY KEY (`COD_SERVICIO` ASC)
)

;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE `PERSONAL` 
 ADD INDEX `IXFK_PERSONAL_SERVICIOS_HOSPITAL` (`COD_SERVICIO` ASC)
;

ALTER TABLE `SERVICIOS_HOSPITAL` 
 ADD INDEX `PK_SERVICIO` (`COD_PERSONAL` ASC)
;

/* Create Foreign Key Constraints */

ALTER TABLE `PERSONAL` 
 ADD CONSTRAINT `FK_PERSONAL_SERVICIOS_HOSPITAL`
	FOREIGN KEY (`COD_SERVICIO`) REFERENCES `SERVICIOS_HOSPITAL` (`COD_SERVICIO`) ON DELETE Restrict ON UPDATE Restrict
;

SET FOREIGN_KEY_CHECKS=1 
;
